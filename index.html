<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="utf-8" />
  <link rel="apple-touch-icon" sizes="76x76" href="./assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="./assets/img/favicon.png">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    空汙查詢精靈
  </title>
  <meta content='width=device-width, initial-scale=1.0, shrink-to-fit=no' name='viewport' />
  <!--     Fonts and icons     -->
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
  <!-- CSS Files -->
  <link href="./assets/css/material-kit.css?v=2.0.7" rel="stylesheet" />
  <!-- CSS Just for demo purpose, don't include it in your project -->
  <link href="./assets/demo/demo.css" rel="stylesheet" />
</head>

<body class="index-page sidebar-collapse">
    <nav class="navbar navbar-transparent navbar-color-on-scroll fixed-top navbar-expand-lg" color-on-scroll="100" id="sectionsNav">
        <div class="container">
            <div class="navbar-translate">
                <a class="navbar-brand" href="https://demos.creative-tim.com/material-kit/index.html">
                  空汙查詢精靈 </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="sr-only">Toggle navigation</span>
          <span class="navbar-toggler-icon"></span>
          <span class="navbar-toggler-icon"></span>
          <span class="navbar-toggler-icon"></span>
        </button>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav ml-auto">
                    <li class="dropdown nav-item">
                        <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
                            <i class="material-icons">apps</i> Components
                        </a>
                        <div class="dropdown-menu dropdown-with-icons">
                            <a href="../index.html" class="dropdown-item">
                                <i class="material-icons">layers</i> All Components
                            </a>
                            <a href="https://demos.creative-tim.com/material-kit/docs/2.0/getting-started/introduction.html" class="dropdown-item">
                                <i class="material-icons">content_paste</i> Documentation
                            </a>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://www.creative-tim.com/product/material-kit-pro" target="_blank">
                            <i class="material-icons">unarchive</i> Upgrade to PRO
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" rel="tooltip" title="" data-placement="bottom" href="https://twitter.com/CreativeTim" target="_blank" data-original-title="Follow us on Twitter" rel="nofollow">
                            <i class="fa fa-twitter"></i>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" rel="tooltip" title="" data-placement="bottom" href="https://www.facebook.com/CreativeTim" target="_blank" data-original-title="Like us on Facebook" rel="nofollow">
                            <i class="fa fa-facebook-square"></i>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" rel="tooltip" title="" data-placement="bottom" href="https://www.instagram.com/CreativeTimOfficial" target="_blank" data-original-title="Follow us on Instagram" rel="nofollow">
                            <i class="fa fa-instagram"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="page-header header-filter clear-filter purple-filter" data-parallax="true" style="background-image: url('./assets/img/bg2.jpg');">
      <div class="container">
        <div class="row">
          <div class="col-md-8 ml-auto mr-auto">
            <div class="brand">
              <h1>Final Project</h1>
              <h2>Team04</h2>
              <h3>M10915078 游紹宏</h3>
              <h3>M10915054 高培循 </h3>
              <h3>M10915071 徐明漢 </h3>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="main main-raised">

      <div class="section">
        <div class="container">
          <div class="row">
              <div class="col-md-8 mx-auto text-center">
                  <h2 class="title">現在天氣概況</h1>
                  <div id="weather_report"></div>
              </div>
          </div>
        </div>
      </div>
      


      <div class="section section-basic">
        <div class="container">
          <div class="col-md-12 mx-auto">
            <div class="card card-nav-tabs card-plain">
              <div class="card-header card-header-danger">
                <div class="nav-tabs-navigation">
                  <div class="nav-tabs-wrapper">
                    <ul class="nav nav-tabs" data-tabs="tabs">
                      <li class="nav-item">
                        <a class="nav-link active" href="#Taipei_nav" data-toggle="tab">台北市</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#NewTaipei_nav" data-toggle="tab">新北市</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#Taoyuan_nav" data-toggle="tab">桃園市</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#Hsinchu_nav" data-toggle="tab">新竹</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#Miaoli_nav" data-toggle="tab">苗栗</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#Taichung_nav" data-toggle="tab">台中</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#Changhua_nav" data-toggle="tab">彰化</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#Nantou_nav" data-toggle="tab">南投</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#Yunlin_nav" data-toggle="tab">雲林</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#Chiayi_nav" data-toggle="tab">嘉義</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#Tainan_nav" data-toggle="tab">台南</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#Kaohsiung_nav" data-toggle="tab">高雄</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#Pingtung_nav" data-toggle="tab">屏東</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#Yilan_nav" data-toggle="tab">宜蘭</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#Taitung_nav" data-toggle="tab">台東</a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <div class="tab-content text-center">
                  <div class="row tab-pane active" id="Taipei_nav">
                    
                  </div>
                  <div class="tab-pane" id="NewTaipei_nav">

                  </div>                  
                  <div class="tab-pane" id="Taoyuan_nav">

                  </div>
                  <div class="tab-pane" id="Hsinchu_nav">

                  </div>
                  <div class="tab-pane" id="Miaoli_nav">

                  </div>
                  <div class="tab-pane" id="Taichung_nav">

                  </div>
                  <div class="tab-pane" id="Changhua_nav">
                    
                  </div>
                  <div class="tab-pane" id="Nantou_nav">
                    
                  </div>
                  <div class="tab-pane" id="Yunlin_nav">
                    
                  </div>
                  <div class="tab-pane" id="Chiayi_nav">
                    
                  </div>
                  <div class="tab-pane" id="Tainan_nav">
                    
                  </div>
                  <div class="tab-pane" id="Kaohsiung_nav">
                    
                  </div>
                  <div class="tab-pane" id="Pingtung_nav">
                    
                  </div>
                  <div class="tab-pane" id="Yilan_nav">
                    
                  </div>
                  <div class="tab-pane" id="Taitung_nav">
                    
                  </div>
                </div>
              </div>
            </div>            
          </div>
        </div>
      </div>
    </div>
  


    <footer class="footer footer-default">
        <div class="container">
            <nav class="float-left">
                <ul>

                    <li>
                        <a href="https://www.creative-tim.com/license">
              Licenses
            </a>
                    </li>
                </ul>
            </nav>
            <div class="copyright float-right">
                &copy;
                <script>
                    document.write(new Date().getFullYear())
                </script>, made with <i class="material-icons">favorite</i> by
                <a href="https://www.creative-tim.com/" target="_blank">Creative Tim</a> for a better web.
            </div>
        </div>
    </footer>
    
    <!--   Core JS Files   -->
    <script src="./assets/js/core/jquery.min.js" type="text/javascript"></script>
    <script src="./assets/js/core/popper.min.js" type="text/javascript"></script>
    <script src="./assets/js/core/bootstrap-material-design.min.js" type="text/javascript"></script>
    <script src="./assets/js/plugins/moment.min.js"></script>
    <!--	Plugin for the Datepicker, full documentation here: https://github.com/Eonasdan/bootstrap-datetimepicker -->
    <script src="./assets/js/plugins/bootstrap-datetimepicker.js" type="text/javascript"></script>
    <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
    <script src="./assets/js/plugins/nouislider.min.js" type="text/javascript"></script>
    <!--  Google Maps Plugin    -->
    <!-- Control Center for Material Kit: parallax effects, scripts for the example pages etc -->
    <script src="./assets/js/material-kit.js?v=2.0.7" type="text/javascript"></script>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.5.0/firebase-database.js"></script>
    <!-- TODO: Add SDKs for Firebase products that you want to use
    https://firebase.google.com/docs/web/setup#available-libraries -->
    
    <script src="./fetch.js"></script>


    <script>
      // Your web app's Firebase configuration
      var firebaseConfig = {
          apiKey: "AIzaSyD7QTtDBeC-O0tjPGfr6HjO-tK3Qz8J_L0",
          authDomain: "b1a2b-krmfch.firebaseapp.com",
          databaseURL: "https://b1a2b-krmfch.firebaseio.com",
          projectId: "b1a2b-krmfch",
          storageBucket: "b1a2b-krmfch.appspot.com",
          messagingSenderId: "777443303063",
          appId: "1:777443303063:web:ad45bae1d1dd1f85ded3d2"
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);


    

      var database = firebase.database();

      
      
      
      
      var Taipei = ["士林", "大同", "中山", "古亭", "松山", "陽明", "萬華"];
      var NewTaipei = ["三重", "土城", "永和", "汐止", "板橋", "林口", "淡水", "富貴角", "菜寮", "新店", "新莊", "萬里"];
      var Taoyuan = ["大園", "中壢", "平鎮", "桃園", "龍潭", "觀音"];
      var Hsinchu = ["新竹", "竹東", "湖口"];
      var Miaoli = ["三義", "苗栗", "頭份"];
      var Taichung = ["大里", "西屯", "沙鹿", "忠明", "豐原"];
      var Changhua = ["二林", "彰化", "線西"];
      var Nantou = ["竹山", "南投", "埔里"];
      var Yunlin = ["斗六", "崙背", "麥寮", "臺西"];
      var Chiayi = ["嘉義", "朴子", "新港"];
      var Tainan = ["安南", "善化", "新營", "臺南"];
      var Kaohsiung = ["美濃", "橋頭", "楠梓", "仁武", "左營", "前金", "鳳山", "復興", "前鎮", "小港", "大寮", "林園"];
      var Pingtung = ["屏東", "恆春", "潮州"];
      var Yilan = ["冬山", "宜蘭"];
      var Taitung = ["臺東", "關山"];


      var city = [Taipei, NewTaipei, Taoyuan, Hsinchu, Miaoli, Taichung, Changhua, Nantou, 
                  Yunlin, Chiayi, Tainan, Kaohsiung, Pingtung, Yilan, Taitung];
      
      var cityCh = ['臺北', '新北', '桃園', '新竹', '苗栗', '台中', '彰化', '南投', '雲林', '嘉義', '台南', '高雄', '屏東', '宜蘭', '台東'];
      var cityNav = ['Taipei_nav', 'NewTaipei_nav', 'Taoyuan_nav', 'Hsinchu_nav', 'Miaoli_nav', 'Taichung_nav', 'Changhua_nav', 'Nantou_nav', 
                      'Yunlin_nav', 'Chiayi_nav', 'Tainan_nav', 'Kaohsiung_nav', 'Pingtung_nav', 'Yilan_nav', 'Taitung_nav'];
      
      var myData = firebase.database().ref('/TWair');


      myData.once('value', function(snapshot) {
        document.getElementById("weather_report").innerHTML = snapshot.val().report;
        

        for (var c = 0; c < city.length; c++) {
          let content = '';
          let content1 = '';
          let content2 = '';

          content1 = content1 +
                '<div class="container">' +
                    
                    '<div class="section text-center">' +
                      '<div class="row">' +
                        '<div class="col-md-8 ml-auto mr-auto">' +
                          '<h2 class="title">' + cityCh[c] + '</h2>' +
                          '<h5 class="description">' + "共" + city[c].length + "個監測站" + '</h5>' +
                        '</div>' +
                      '</div>' +
                      
                      
                      '<div class="features">' +
                        '<div class="row" id="' + cityCh[c] + '">' ;


          for (var i = 0; i < city[c].length; i++) {
              var name = city[c][i];
              var data = snapshot.val().data[name]

              
              content = content +
                          '<div class="col-md-3 ml-auto mr-auto">' +
                            '<div class="card">' +
                              '<div class="card-body" style="padding: 0;">' +
                                '<img class="card-img-top" src="' + picture_generator(data.AQI) + '" rel="nofollow" alt="Card image cap">' +
                                '<div class = "card-body" >' +
                                  '<p class = "card-text"> ' +
                                    '<h3 class="card-title">' + name + '</h3>' +
                                    '<h3 class="card-text">' + status_generator(data.AQI) + '</h3>' +
                                    '<h7 class="card-text"><small class="text-muted">' + info_output_generator(data.AQI) + '</small></h7>' +
                                  '</p>' +
                                '</div>' +
                              '</div>' +
                            '</div>' +
                          '</div>' ;
          }

          content2 = content2 + 
                      '</div>' +
                                  '</div>' +
                                '</div>' +
                                
                                  '<div class="section section-contacts">' +
                                  '<div class="row">' +
                                    '<div class="col-md-8 ml-auto mr-auto">' +
                                    '</div>' +
                                  '</div>' +
                                '</div>'+

                              '</div>';
          document.getElementById(cityNav[c]).innerHTML = content1 + content + content2
          
          
          
        }
        
        /*

        
        var Taipei_content = '';
        for (var i = 0; i < Taipei.length; i++) {
            var name = Taipei[i];
            var data = snapshot.val().data[name]
            Taipei_content = Taipei_content +
                '<div class="col-md-3 ml-auto mr-auto">' +
                '<div class="card">' +
                '<div class="card-body" style="padding: 0;">' +
                '<img class="card-img-top" src="' + picture_generator(data.AQI) + '" rel="nofollow" alt="Card image cap">' +
                ' <div class = "card-body" >' +
                '<p class = "card-text"> <h3 class="card-title">' + name + '</h3>' +
                '<h3 class="card-text">' + status_generator(data.AQI) + '</h3>' +
                '<h7 class="card-text"><small class="text-muted">' + info_output_generator(data.AQI) + '</small></h7>' +
                '</p> </div>' +
                '</div>' +
                '</div>' +
                '</div>';
        }
        document.getElementById('臺北市').innerHTML = Taipei_content


        var NewTaipei_content = '';
        for (var i = 0; i < NewTaipei.length; i++) {
            var name = NewTaipei[i];
            var data = snapshot.val().data[name]
            NewTaipei_content = NewTaipei_content +
                '<div class="col-md-3 ml-auto mr-auto">' +
                '<div class="card">' +
                '<div class="card-body" style="padding: 0;">' +
                '<img class="card-img-top" src="' + picture_generator(data.AQI) + '" rel="nofollow" alt="Card image cap">' +
                ' <div class = "card-body" >' +
                '<p class = "card-text"> <h3 class="card-title">' + name + '</h3>' +
                '<h3 class="card-text">' + status_generator(data.AQI) + '</h3>' +
                '<h7 class="card-text"><small class="text-muted">' + info_output_generator(data.AQI) + '</small></h7>' +
                '</p> </div>' +
                '</div>' +
                '</div>' +
                '</div>';
        }
        document.getElementById('新北市').innerHTML = NewTaipei_content
        

        var Taoyuan_content = '';
        for (var i = 0; i < Taoyuan.length; i++) {
            var name = Taoyuan[i];
            var data = snapshot.val().data[name]
            Taoyuan_content = Taoyuan_content +
                '<div class="col-md-3 ml-auto mr-auto">' +
                '<div class="card">' +
                '<div class="card-body" style="padding: 0;">' +
                '<img class="card-img-top" src="' + picture_generator(data.AQI) + '" rel="nofollow" alt="Card image cap">' +
                ' <div class = "card-body" >' +
                '<p class = "card-text"> <h3 class="card-title">' + name + '</h3>' +
                '<h3 class="card-text">' + status_generator(data.AQI) + '</h3>' +
                '<h7 class="card-text"><small class="text-muted">' + info_output_generator(data.AQI) + '</small></h7>' +
                '</p> </div>' +
                '</div>' +
                '</div>' +
                '</div>';
        }
        document.getElementById('桃園市').innerHTML = Taoyuan_content

        

        var Hsinchu_content = '';
        for (var i = 0; i < Hsinchu.length; i++) {
            var name = Hsinchu[i];
            var data = snapshot.val().data[name]
            Hsinchu_content = Hsinchu_content +
                '<div class="col-md-3 ml-auto mr-auto">' +
                '<div class="card">' +
                '<div class="card-body" style="padding: 0;">' +
                '<img class="card-img-top" src="' + picture_generator(data.AQI) + '" rel="nofollow" alt="Card image cap">' +
                ' <div class = "card-body" >' +
                '<p class = "card-text"> <h3 class="card-title">' + name + '</h3>' +
                '<h3 class="card-text">' + status_generator(data.AQI) + '</h3>' +
                '<h7 class="card-text"><small class="text-muted">' + info_output_generator(data.AQI) + '</small></h7>' +
                '</p> </div>' +
                '</div>' +
                '</div>' +
                '</div>';
        }
        document.getElementById('新竹').innerHTML = Hsinchu_content

        

        */
      })
    </script>

</body>

</html>